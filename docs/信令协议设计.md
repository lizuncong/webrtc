## 信令协议设计

采用 json 封装格式

- 1.join 加入房间
- 2.resp-join 当 join 房间后发现房间已经存在另一个人时则返回另一个人的 uid；如果只有自己则不返回
- 3.leave 离开房间，服务器收到 leave 信令则检查同一房间是否有其他人，如果有其他人则通知他有人离开
- 4.new-peer 服务器通知客户端有新人加入，收到 new-peer 则发起连接请求
- 5.peer-leave 服务器通知客户端有人离开
- 6.offer 转发 offer sdp
- 7.answer 转发 answer sdp
- 8.candidate 转发 candidate sdp

## join

```js
const jsonMsg = {
  cmd: "join",
  roomId: roomId,
  uid: localUserId,
};
```

## resp-join

```js
const jsonMsg = {
  cmd: "resp-join",
  remoteUid: remoteUid,
};
```

## leave

```js
const jsonMsg = {
  cmd: "leave",
  roomId: roomId,
  uid: localUserId,
};
```

## new-peer

```js
const jsonMsg = {
  cmd: "new-peer",
  remoteUid: uid,
};
```

## peer-leave

```js
const jsonMsg = {};
```
